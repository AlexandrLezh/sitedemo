<!DOCTYPE html>
<html>
<head>
  <title>Detail CRUD</title>
</head>
<body>
<h1>Detail CRUD Operations</h1>

<div id="details"></div>

<script>
        // Function to load details
        function loadDetails() {
            fetch('/details')
                .then(response => response.json())
                .then(details => {
                    let detailsDiv = document.getElementById('details');
                    detailsDiv.innerHTML = '';

                    details.forEach(detail => {
                        let detailDiv = document.createElement('div');
                        detailDiv.innerHTML = `
                            <p>ID: ${detail.id}</p>
                            <p>Name: ${detail.detailTitle}</p>
                            <button onclick="getDetail(${detail.id})">Get Detail</button>
                            <button onclick="updateDetail(${detail.id})">Update Detail</button>
                            <button onclick="deleteDetail(${detail.id})">Delete Detail</button>
                            <hr>
                        `;
                        detailsDiv.appendChild(detailDiv);
                    });
                })
                .catch(error => console.error('Error:', error));
        }

        // Function to create a new detail
        function createDetail() {
            let name = prompt('Enter detail name:');
            if (name) {
                fetch('/details', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ detailTitle: name })
                })
                .then(response => {
                    if (response.ok) {
                        loadDetails();
                    }
                })
                .catch(error => console.error('Error:', error));
            }
        }

        // Function to get a specific detail by ID
        function getDetail(id) {
            fetch(`/details/${id}`)
                .then(response => response.json())
                .then(detail => alert(`Detail ID: ${detail.id}, Name: ${detail.detailTitle}`))
                .catch(error => console.error('Error:', error));
        }

        // Function to update a specific detail by ID
        function updateDetail(id) {
            let newName = prompt('Enter new detail name:');
            if (newName) {
                fetch(`/details/${id}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ id: id, detailTitle: newName })
                })
                .then(response => {
                    if (response.ok) {
                        loadDetails();
                    }
                })
                .catch(error => console.error('Error:', error));
            }
        }

        // Function to delete a specific detail by ID
        function deleteDetail(id) {
            fetch(`/details/${id}`, {
                method: 'DELETE'
            })
            .then(response => {
                if (response.ok) {
                    loadDetails();
                }
            })
            .catch(error => console.error('Error:', error));
        }

        // Load details when the page loads
        loadDetails();
    </script>
</body>
</html>
